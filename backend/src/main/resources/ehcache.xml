<?xml version="1.0" encoding="UTF-8"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.ehcache.org/v3"
        xsi:schemaLocation="http://www.ehcache.org/v3
        http://www.ehcache.org/schema/ehcache-core-3.0.xsd">

    <!-- Properties Cache Configuration -->
    <cache alias="properties">
        <key-type>java.lang.String</key-type>
        <value-type>org.springframework.data.domain.Page</value-type>
        <expiry>
            <ttl unit="minutes">30</ttl>
        </expiry>
        <resources>
            <heap unit="entries">1000</heap>
        </resources>
    </cache>

    <!-- Property By ID Cache Configuration -->
    <cache alias="propertyById">
        <key-type>java.util.UUID</key-type>
        <value-type>com.ultrabms.dto.properties.PropertyResponse</value-type>
        <expiry>
            <ttl unit="minutes">30</ttl>
        </expiry>
        <resources>
            <heap unit="entries">500</heap>
        </resources>
    </cache>

    <!-- Property With Occupancy Cache Configuration -->
    <cache alias="propertyWithOccupancy">
        <key-type>java.util.UUID</key-type>
        <value-type>com.ultrabms.dto.properties.PropertyResponse</value-type>
        <expiry>
            <ttl unit="minutes">15</ttl>
        </expiry>
        <resources>
            <heap unit="entries">500</heap>
        </resources>
    </cache>

    <!-- User Permissions Cache Configuration -->
    <cache alias="userPermissions">
        <key-type>java.lang.String</key-type>
        <value-type>org.springframework.security.core.userdetails.UserDetails</value-type>
        <expiry>
            <ttl unit="minutes">10</ttl>
        </expiry>
        <resources>
            <heap unit="entries">10000</heap>
        </resources>
    </cache>

    <!-- Login Attempts Cache Configuration -->
    <cache alias="loginAttemptsCache">
        <key-type>java.lang.String</key-type>
        <value-type>java.lang.Integer</value-type>
        <expiry>
            <ttl unit="minutes">15</ttl>
        </expiry>
        <resources>
            <heap unit="entries">1000</heap>
        </resources>
    </cache>

    <!-- ================================================================= -->
    <!-- DASHBOARD CACHES (Story 8.1) -->
    <!-- AC-18: 5-minute cache TTL for dashboard data -->
    <!-- ================================================================= -->

    <!-- Executive Dashboard Complete Data Cache -->
    <cache alias="executiveDashboard">
        <key-type>java.lang.String</key-type>
        <value-type>com.ultrabms.dto.dashboard.ExecutiveDashboardDto</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Dashboard KPI Cards Cache -->
    <cache alias="dashboardKpis">
        <key-type>java.lang.String</key-type>
        <value-type>com.ultrabms.dto.dashboard.KpiCardsDto</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Priority Maintenance Queue Cache -->
    <cache alias="maintenanceQueue">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- PM Jobs Chart Data Cache -->
    <cache alias="pmJobsChart">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Lease Expirations Timeline Cache -->
    <cache alias="leaseExpirations">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Critical Alerts Cache -->
    <cache alias="criticalAlerts">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Property Comparison Cache -->
    <cache alias="propertyComparison">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- ================================================================= -->
    <!-- OCCUPANCY DASHBOARD CACHES (Story 8.3) -->
    <!-- AC-15: 5-minute cache TTL for occupancy dashboard data -->
    <!-- ================================================================= -->

    <!-- Occupancy Dashboard Complete Data Cache -->
    <cache alias="occupancyDashboard">
        <key-type>java.lang.String</key-type>
        <value-type>com.ultrabms.dto.dashboard.occupancy.OccupancyDashboardDto</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Occupancy Lease Expirations List Cache -->
    <cache alias="occupancyLeaseExpirations">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Occupancy Recent Activity Cache -->
    <cache alias="occupancyRecentActivity">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- ================================================================= -->
    <!-- MAINTENANCE DASHBOARD CACHES (Story 8.4) -->
    <!-- AC-18: 5-minute cache TTL for maintenance dashboard data -->
    <!-- ================================================================= -->

    <!-- Maintenance Dashboard Complete Data Cache -->
    <cache alias="maintenanceDashboard">
        <key-type>java.lang.String</key-type>
        <value-type>com.ultrabms.dto.dashboard.maintenance.MaintenanceDashboardDto</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Maintenance Dashboard KPIs Cache -->
    <cache alias="maintenanceKpis">
        <key-type>java.lang.String</key-type>
        <value-type>com.ultrabms.dto.dashboard.maintenance.MaintenanceKpiDto</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Jobs By Status Cache -->
    <cache alias="jobsByStatus">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Jobs By Priority Cache -->
    <cache alias="jobsByPriority">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Jobs By Category Cache -->
    <cache alias="jobsByCategory">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- High Priority Overdue Jobs Cache -->
    <cache alias="highPriorityOverdueJobs">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Recently Completed Jobs Cache -->
    <cache alias="recentlyCompletedJobs">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- ================================================================= -->
    <!-- VENDOR DASHBOARD CACHES (Story 8.5) -->
    <!-- AC-16: 5-minute cache TTL for vendor dashboard data -->
    <!-- ================================================================= -->

    <!-- Vendor Dashboard Complete Data Cache -->
    <cache alias="vendorDashboard">
        <key-type>java.lang.String</key-type>
        <value-type>com.ultrabms.dto.dashboard.vendor.VendorDashboardDto</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Vendor Dashboard KPIs Cache -->
    <cache alias="vendorKpis">
        <key-type>java.lang.String</key-type>
        <value-type>com.ultrabms.dto.dashboard.vendor.VendorKpiDto</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Vendor Jobs By Specialization Cache -->
    <cache alias="vendorJobsBySpecialization">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Vendor Performance Snapshot Cache -->
    <cache alias="vendorPerformanceSnapshot">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Vendor Expiring Documents Cache -->
    <cache alias="vendorExpiringDocuments">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Vendor Top Vendors Cache -->
    <cache alias="vendorTopVendors">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- ================================================================= -->
    <!-- FINANCE DASHBOARD CACHES (Story 8.6) -->
    <!-- AC-18: 5-minute cache TTL for finance dashboard data -->
    <!-- ================================================================= -->

    <!-- Finance Dashboard Complete Data Cache -->
    <cache alias="financeDashboard">
        <key-type>java.lang.String</key-type>
        <value-type>com.ultrabms.dto.dashboard.finance.FinanceDashboardDto</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Finance Dashboard KPIs Cache -->
    <cache alias="financeKpis">
        <key-type>java.lang.String</key-type>
        <value-type>com.ultrabms.dto.dashboard.finance.FinanceKpiDto</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Finance Income vs Expense Cache -->
    <cache alias="financeIncomeVsExpense">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Finance Expense Categories Cache -->
    <cache alias="financeExpenseCategories">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Finance Outstanding Receivables Cache -->
    <cache alias="financeReceivables">
        <key-type>java.lang.String</key-type>
        <value-type>com.ultrabms.dto.dashboard.finance.OutstandingReceivablesDto</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Finance Recent Transactions Cache -->
    <cache alias="financeRecentTransactions">
        <key-type>java.lang.String</key-type>
        <value-type>java.util.List</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Finance PDC Status Cache -->
    <cache alias="financePdcStatus">
        <key-type>java.lang.String</key-type>
        <value-type>com.ultrabms.dto.dashboard.finance.PdcStatusSummaryDto</value-type>
        <expiry>
            <ttl unit="minutes">5</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache>

    <!-- Default cache template for other caches -->
    <cache-template name="default">
        <expiry>
            <ttl unit="minutes">10</ttl>
        </expiry>
        <resources>
            <heap unit="entries">100</heap>
        </resources>
    </cache-template>

</config>
